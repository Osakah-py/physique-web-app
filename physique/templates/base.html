{% load static %}
<head>

  <!-- Informations générales -->
  <title>{% block title %}{% endblock %}</title>
  <meta name="description" content="{% block description %}{% endblock %}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta description="Le site des mathématiques et de l'informatique en MP2I  au lycée Champollion. Cours/TD/devoirs.">
    
    <!---- CSS ---->
        <link rel="stylesheet" href="{% static 'css/w3.css' %}">
        <link rel="stylesheet" href="{% static 'css/custom.css' %}">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
        <!-- kit fontawesome -->
        <script src="https://kit.fontawesome.com/71d53a212d.js" crossorigin="anonymous"></script>

        <!-- Gestion du paralax et polices -->
        <style>
        body,h1,h2,h3F,h4,h5,h6 {font-family: "Lato", sans-serif;}
        body, html {
          height: 100%;
          color: #777;
          line-height: 1.8;
          scroll-behavior: smooth;
          transition-duration: 2000ms;
        }

        /* Create a Parallax Effect */
        .bgimg-1, .bgimg-2, .bgimg-3 {
          background-attachment: fixed;
          background-position: center;
          background-repeat: no-repeat;
          background-size: cover;
        }

        /* First image (Logo. Full height) */
        .bgimg-1 {
          background-image: url('{% static 'image/Tso_Moriri_high.jpg' %}');
          min-height: 100%;
        }

        @media (max-width: 1160px) {
        /* First image (Logo. Full height) */
        .bgimg-1 {
          background-image: url('{% static 'image/Tso_Moriri_high.jpg' %}');
          min-height: 100%;
        }
        }
        @media (max-width: 891px) {
        /* First image (Logo. Full height) */
        .bgimg-1 {
          background-image: url('{% static 'image/Tso_Moriri.jpg' %}');
          min-height: 100%;
        }
        }

        @media (max-width: 703px) {
        /* First image (Logo. Full height) */
        .bgimg-1 {
          background-image: url('{% static 'image/Tso_Moriri.jpg' %}');
          min-height: 100%;
        }
        }

        @media (max-width: 480px) {
        /* First image (Logo. Full height) */
        .bgimg-1 {
          background-image: url('{% static 'image/Tso_Moriri.jpg' %}');
          min-height: 100%;
        }
        }
        /* Second image (Portfolio) */
        .bgimg-2 {
          background-image: url("{% static 'image/Tso_Moriri.jpg' %}");
          min-height: 400px;
        }

        @media (max-width: 480px) {
        /* Second image (Portfolio) */
        .bgimg-2 {
          background-image: url("{% static 'image/Tso_Moriri.jpg' %}");
          min-height: 400px;
        }
        }

        @media (max-width: 764px) {
        /* Second image (Portfolio) */
        .bgimg-2 {
          background-image: url("{% static 'image/Tso_Moriri.jpg' %}");
          min-height: 400px;
        }
        }

        @media (max-width: 988px) {
        /* Second image (Portfolio) */
        .bgimg-2 {
          background-image: url("{% static 'image/Tso_Moriri.jpg' %}");
          min-height: 400px;
        }
        }

        @media (max-width: 1200px) {
        /* Second image (Portfolio) */
        .bgimg-2 {
          background-image: url("{% static 'image/Tso_Moriri_high.jpg' %}");
          min-height: 400px;
        }
        }

        .w3-wide {letter-spacing: 10px;}
        .w3-hover-opacity {cursor: pointer;}

        /* Turn off parallax scrolling for tablets and phones */
        @media only screen and (max-device-width: 1600px) {
          .bgimg-1, .bgimg-2, .bgimg-3 {
            background-attachment: scroll;
            min-height: 400px;
          }
        }
        </style>
    
    <!---- JAVASCRIPT ---->
        <!-- on inclut jQuery via CDN -->
        <script src="//code.jquery.com/jquery-1.12.0.min.js"></script>
        <!-- mon js -->
        <script src="{% static 'js/mon.js' %}"></script>
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-DRGE1PTSV7"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
        
          gtag('config', 'G-DRGE1PTSV7');
        </script>
    </head>

<body>
<!-- Navbar (sit on top) -->
    <div class="w3-top">
        <div class="w3-bar w3-card w3-animate-top w3-white" id="myNavbar" style="opacity: 0.9;">
          <a class="w3-bar-item w3-button w3-hover-black w3-hide-medium w3-hide-large w3-right" href="javascript:void(0);" onclick="toggleFunction()" title="Toggle Navigation Menu">
            <i class="fa fa-bars"></i>
          </a>
          <a href="/" class="w3-bar-item w3-button">ACCUEIL</a>
          {% block navigation %}{% endblock %}
        </div>
      
        <!-- Navbar on small screens -->
        <div id="navDemo" class="w3-bar-block w3-white w3-hide w3-hide-large w3-hide-medium" style="opacity: 0.9;">
          {% for cat, documents in documents_by_category.items %}
          <a href="#{{ cat.title }}" class="w3-bar-item w3-button" onclick="toggleFunction()">{{ cat.title }}</a>
          {% endfor %}
          <a href="/chimie/" class="w3-bar-item w3-button w3-right">Chimie&ensp;<i class="fas fa-flask"></i> </a>
        </div>
      </div>

<!-- Parallax Image with Logo Text  -->
      <div class="bgimg-1 w3-display-container" id="home" style="opacity:0.9;display:block">
        <div class="w3-display-middle" style="white-space:nowrap;">
          {% block image %}{% endblock %}
        </div>
      </div>
{% block content %}
{% endblock %}

<!-- Js complémentaire (à regler : bug quand on scroll et qu'on revient en haut)  -->
<script>
  // Modal Image Gallery
  function onClick(element) {
    document.getElementById("img01").src = element.src;
    document.getElementById("modal01").style.display = "block";
    var captionText = document.getElementById("caption");
    captionText.innerHTML = element.alt;
  }
  
  // Change style of navbar on scroll
  window.onscroll = function() {myFunction()};
  function myFunction() {
      var navbar = document.getElementById("myNavbar");
      if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
          navbar.className = "w3-bar" + " w3-card" + " w3-animate-top" + " w3-white";
      } else {
          navbar.className = navbar.className.replace(" w3-card w3-animate-top w3-white", "");
      }
  }
  
  // Used to toggle the menu on small screens when clicking on the menu button
  function toggleFunction() {
      var x = document.getElementById("navDemo");
      if (x.className.indexOf("w3-show") == -1) {
          x.className += " w3-show";
      } else {
          x.className = x.className.replace(" w3-show", "");
      }
  }
  </script>
</body>